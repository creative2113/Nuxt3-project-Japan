<template>
  <div class="voice-item w-full bg-white pt-4 relative z-10 shadow-[0_0_20px_#00000099]">
    <div
      class="flex items-center font-bold gap-3 before:inline-block before:w-1 before:h-7 before:bg-[#222222] ml-5"
    >
      <h5 class="text-[15px]">会員からの評価とコメント</h5>
    </div>
    <div
      class="mx-auto flex justify-between flex-col items-center max-w-[335px]"
    >
      <div
        class="flex items-center max-w-[300px] w-full justify-between mx-auto mt-5"
      >
        <img
          src="/images/user-voice-chart-1-sp.svg"
          width="300"
          height="267"
          alt="present"
          loading="lazy"
          class="h-auto w-[116px]"
        />
        <img
          src="/images/user-voice-chart-2-sp.svg"
          width="300"
          height="266"
          alt="present"
          loading="lazy"
          decoding="async"
          class="h-auto w-[129px]"
        />
      </div>
      <div
        class="flex flex-col border-[#DDDDDD] text-[#222222] border-0 w-full"
      >
        <div
          class="w-full bg-[#F8F8F8] flex justify-between py-3.5 relative px-2 items-start"
        >
          <div>
            <img
              src="/images/present-11.webp"
              width="90"
              height="90"
              alt="present"
              loading="lazy"
              class="w-[90px] aspect-square rounded-full border-white border-[3px] border-solid shadow-md"
            />
          </div>
          <div class="w-[212px]">
            <div
              class="flex items-center font-bold absolute flex-col gap-0 left-0 bottom-4 px-2"
            >
              <h5 class="text-sm">
                高谷 蒼汰<span class="text-xs">さん</span>
              </h5>
              <p class="text-xs text-[10px]">2０代/男性/生徒</p>
            </div>
            <div
              class="flex gap-1 mt-3 flex-col items-start"
            >
              <div class="flex items-center gap-2">
                <span
                  class="text-[10px] py-1 border border-[#DDDDDD] bg-white w-16 tracking-tighter text-center"
                  >ジャンル</span
                >
                <p class="text-[10px] font-semibold">音楽</p>
              </div>
              <div class="flex items-center gap-2">
                <span
                  class="text-[10px] py-1 border border-[#DDDDDD] bg-white w-16 tracking-tighter text-center"
                  >コース</span
                >
                <p class="text-[10px] font-semibold">ギター</p>
              </div>
              <div class="flex items-center gap-2">
                <span
                  class="text-[10px] py-1 border border-[#DDDDDD] bg-white w-16 tracking-tighter text-center"
                  >講師</span
                >
                <p class="text-[10px] font-semibold">古川香織 講師</p>
              </div>
            </div>
            <div
              class="flex items-center text-[10px] flex-wrap mt-4 gap-1 gap-y-1 gap-x-7"
            >
              <p>無料体験レッスン受講日</p>
              <b>2019年8月20日</b>
              <p>入会した時期</p>
              <b>2019年8月20日</b>
            </div>
          </div>
        </div>
        <div class="pt-5">
          <div class="flex justify-between items-end relative">
            <div class="w-full">
              <div
                class="flex items-center font-bold gap-3 before:inline-block before:w-1 before:h-7 before:bg-[#222222]"
              >
                <h5 class="text-[15px]">体験レッスン</h5>
                <h6 class="text-[13px]">での評価</h6>
              </div>
              <p class="text-xs mt-[140px]">
                初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。
              </p>
            </div>
            <div
              class="font-semibold absolute top-10 w-full flex flex-col"
            >
              <div
                class="flex justify-between items-end w-[180px]"
              >
                <span class="text-sm">総合評価</span>
                <img
                  src="/images/star-4.svg"
                  alt="star"
                  width="111"
                  height="22"
                  class="w-[111px] h-[22px]"
                />
              </div>
              <div
                class="mt-2 flex gap-x-2 h-[80px] flex-wrap"
              >
                <div
                  class="flex justify-between items-end w-[160px] mt-0"
                >
                  <span class="text-[11px]">設備・雰囲気</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">コスパ</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">予約システム</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">カリキュラム</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">講師</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
              </div>
            </div>
          </div>
          <div v-if="viewAll">
            <div v-for="(score, i) of scoreDetails" :key="i" class="w-full mt-8">
              <div class="flex w-full justify-between items-center pr-4">
                <h6 class="text-[13px] font-bold">{{ score.title }}</h6>
                <img
                  src="/images/star-4.svg"
                  alt="star"
                  width="85"
                  height="17"
                  class="w-[85px] h-[17px]"
                />
              </div>
              <p class="text-[13px] mt-[14px]">{{ score.description }}</p>
            </div>
          </div>
          <hr class="mt-[30px] mb-[20px]" />
          <div class="flex justify-between items-end relative">
            <div class="w-full">
              <div
                class="flex items-center font-bold gap-3 before:inline-block before:w-1 before:h-7 before:bg-[#222222]"
              >
                <h5 class="text-[15px]">通ってみた</h5>
                <h6 class="text-[13px]">での評価</h6>
              </div>
              <p class="text-xs mt-[140px]">
                初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。イベントで友人もできたので充実しています。初心者ですがある程度までできるようになりました。
              </p>
            </div>
            <div
              class="font-semibold absolute top-10 w-full flex flex-col"
            >
              <div
                class="flex justify-between items-end w-[180px]"
              >
                <span class="text-sm">総合評価</span>
                <img
                  src="/images/star-4.svg"
                  alt="star"
                  width="111"
                  height="22"
                  class="w-[111px] h-[22px]"
                />
              </div>
              <div
                class="mt-2 flex gap-x-2 h-[80px] flex-wrap"
              >
                <div
                  class="flex justify-between items-end w-[160px] mt-0"
                >
                  <span class="text-[11px]">設備・雰囲気</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">コスパ</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">予約システム</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">カリキュラム</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
                <div
                  class="flex justify-between items-end w-[160px]"
                >
                  <span class="text-[11px]">講師</span>
                  <img
                    src="/images/star-4.svg"
                    alt="star"
                    width="85"
                    height="17"
                    class="w-[85px] h-[17px]"
                  />
                </div>
              </div>
            </div>
          </div>
          <div v-if="viewAll">
            <div v-for="(score, i) of scoreDetails" :key="i" class="w-full mt-8">
              <div class="flex w-full justify-between items-center pr-4">
                <h6 class="text-[13px] font-bold">{{ score.title }}</h6>
                <img
                  src="/images/star-4.svg"
                  alt="star"
                  width="85"
                  height="17"
                  class="w-[85px] h-[17px]"
                />
              </div>
              <p class="text-[13px] mt-[14px]">{{ score.description }}</p>
            </div>
          </div>
        </div>
        <div class="pt-6 pb-12 flex items-center justify-center">
          <button
            @click="viewAll = !viewAll"
            class="relative border border-black font-bold shadow-lg text-sm py-2 px-[73px]"
          >
            {{ viewAll ? '閉じる' : '詳しく見る' }}
            <span class="absolute block w-[9px] h-[9px] border-black border-r border-b right-3" :class="viewAll ? 'rotate-[225deg] top-4' : 'rotate-45 bottom-4'"></span>
          </button>
        </div>
      </div>
    </div>
  </div>
</template>
<script lang="ts" setup>
const viewAll = ref(false);
const scoreDetails = await (await fetch('/data/scoredetail.json')).json();
</script>
<style lang="scss" scoped>
.voice-item {
  @media screen and (max-width: 1024px) {
    box-shadow: 0 -8px 8px #00000055;
  }
}
</style>
